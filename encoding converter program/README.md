# Постановка задачи 
Требуется разработать две программы-конвертера.
Первая программа читает из входного файла текст в кодировке UTF-16, переводит его в
кодировку UTF-8 и выводит перекодированный текст в выходной файл. Имя входного файла
задается опцией -i имя_файла, имя выходного файла задается опцией -o имя_файла. При
отсутствии нужного аргумента стандартный ввод рассматривается как входной файл,
стандартный вывод как выходной. В случае неправильного имени файла программа должна
выдавать сообщение об ошибке и завершаться.
Вторая программа читает из входного файла текст в кодировке UTF-8, переводит его в
кодировку UTF-16 и выводит перекодированный текст в выходной файл. Имена файлов
задаются в командной строке по тем же правилам, что и в первой программе.
Обе программы должны корректно обрабатывать маркер порядка байтов (byte order
mark – BOM) – символ с кодом 0xFEFF — в начале файла. Первая программа должна читать
текст в UTF-16, анализировать маркер в начале файла и обрабатывать файл в соответствии с
порядком, заданным маркером. Перекодировать маркер в UTF-8 не надо, поскольку UTF-8 не
зависит от порядка байтов во входном файле. В случае отсутствия маркера в начале файла
порядок байтов зависит от наличия аргумента командной строки -le или -be. В первом случае
принимается обратный порядок, во – втором – прямой. Оба аргумента не могут присутствовать
одновременно (если не так, то программа выдает сообщение об ошибке и завершается). При
отсутствии обоих аргументов -le и -be принимается обратный порядок. При наличии маркера
в начале файла эти аргументы игнорируются.
Вторая программа должна генерировать текст в UTF-16 в соответствии со значением
аргумента командной строки -le для обратного порядка или -be для прямого порядка. Оба
аргумента не могут присутствовать одновременно (в противном случае должна быть
зафиксирована ошибка). В случае отсутствия аргумента принимается LE-порядок (то есть по
умолчанию BOM представлен байтами 0xFF 0xFE в начале файла). Маркер BOM всегда
записывается программой-перекодировщиком в UTF-16. Если в начале UTF8-файла находится
закодированный маркер BOM (некоторые программы так делают), то он игнорируется, а
поведение программы определяется исключительно приведенными выше правилами.
Также программы должны обрабатывать и случаи некорректного представления
входного текста — нечетное количество байтов в UTF-16, некорректные последовательности
в UTF-8. В этих случаях программы должны выдавать в стандартный канал вывода сообщений
об ошибках (stderr) диагностику, включающую в себя значение некорректного символа
(последовательности), а также его смещение относительно начала файла. После этого
программы должны «восстанавливаться» и продолжать чтение и перекодировку входной
последовательности.
К заданию приложены тестовые файлы в обеих кодировках.
